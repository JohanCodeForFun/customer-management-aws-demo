# Production configuration for AWS Elastic Beanstalk
# Environment variables will be provided by AWS RDS and EB Console

# Database configuration - These should be set as Environment Variables in EB Console:
# RDS_HOSTNAME=your-rds-endpoint.amazonaws.com
# RDS_PORT=5432
# RDS_DB_NAME=customerdb
# RDS_USERNAME=your-username
# RDS_PASSWORD=your-password

spring.datasource.url=jdbc:postgresql://${RDS_HOSTNAME}:${RDS_PORT}/${RDS_DB_NAME}
spring.datasource.username=${RDS_USERNAME}
spring.datasource.password=${RDS_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# Connection pool settings for production
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# JPA/Hibernate configuration for production
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:validate}
spring.jpa.show-sql=${JPA_SHOW_SQL:false}
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Production specific settings
server.port=${PORT:5000}

# Health check and monitoring
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
management.health.db.enabled=true

# Logging configuration
logging.level.com.example.relationaldataaccess=${LOG_LEVEL:INFO}
logging.level.org.springframework=${SPRING_LOG_LEVEL:INFO}
logging.level.org.hibernate.SQL=${JPA_SHOW_SQL:false}

# Application info for health checks
info.app.name=Relational Data Access Application
info.app.version=0.0.1-SNAPSHOT
info.app.description=Spring Boot application with PostgreSQL integration